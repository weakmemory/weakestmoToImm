\theoremstyle{definition}

\newtheorem{definition}{Definition}
\newtheorem{theorem}{Theorem}

\newcommand{\textdef}[1]{\textit{#1}}

% inline code 
\newcommand{\code}[1]{\texttt{#1}}

% tuple with angle brackets
\newcommand{\tup}[1]{\langle #1 \rangle}

% semantics brackets
\newcommand{\sem}[1]{\llbracket #1 \rrbracket}

% equality by definition
\newcommand{\defeq}{\triangleq}

% function arrow
\newcommand{\fun}[2]{#1 \rightarrow #2}

% partial function arrow
\newcommand{\pfun}[2]{#1 \rightharpoonup #2}

% some math sets
\newcommand{\N}{{\mathbb{N}}}
\newcommand{\Q}{{\mathbb{Q}}}

% domain/codomain notation
\newcommand{\dom}[1]{\textit{dom}{({#1})}}
\newcommand{\codom}[1]{\textit{codom}{({#1})}}

% some logical notation
%\newcommand{\implies}{{\Rightarrow}}
%\newcommand{\iff}{{\Leftrightarrow}}

% check-mark and cross-mark
\newcommand{\cmark}{\text{\color{green}\ding{51}}}
\newcommand{\xmark}{\text{\color{red}\ding{55}}}

% event structure
\newcommand{\lES}{ES}
\newcommand{\lG}{G}

% event set
\newcommand{\lE}{{\mathtt{E}}}
\newcommand{\lEi}{{\mathtt{E_0}}}
\newcommand{\lR}{{\mathtt{R}}}
\newcommand{\lW}{{\mathtt{W}}}
\newcommand{\lF}{{\mathtt{F}}}

% labeling of events
\newcommand{\Tid}{\mathsf{Tid}}
\newcommand{\Loc}{\mathsf{Loc}}
\newcommand{\Val}{\mathsf{Val}}
\newcommand{\Bool}{\mathsf{Bool}}
\newcommand{\Lab}{\mathsf{Lab}}
\newcommand{\Mod}{\mathsf{Mod}}
\newcommand{\Scp}{\mathsf{Scope}}

\newcommand{\lLAB}{{\mathtt{lab}}}
\newcommand{\lTID}{{\mathtt{tid}}}
\newcommand{\lTYP}{{\mathtt{typ}}}
\newcommand{\lLOC}{{\mathtt{loc}}}
\newcommand{\lMOD}{{\mathtt{mod}}}
\newcommand{\lSCP}{{\mathtt{scp}}}
\newcommand{\lVALR}{{\mathtt{val_r}}}
\newcommand{\lVALW}{{\mathtt{val_w}}}
\newcommand{\lINIT}{{\mathtt{init}}}
\newcommand{\lSN}{{\mathtt{sn}}}

\newcommand{\rlab}[2]{\lR({#1},{#2})}
\newcommand{\wlab}[2]{\lW({#1},{#2})}
\newcommand{\flab}{\lF}

\newcommand{\Ex}{{\mathtt{ex}}}
\newcommand{\rlabEx}[2]{\lR^{\Ex}({#1},{#2})}

\newcommand{\rlabS}[3]{\lR^{#3}({#1},{#2})}
\newcommand{\wlabS}[3]{\lW^{#3}({#1},{#2})}
\newcommand{\flabS}[1]{\lF^{#1}}

% some predefined relations
\colorlet{colorPO}{gray!60!black}
\colorlet{colorRF}{green!60!black}
\colorlet{colorRMW}{olive!70!black}
\colorlet{colorCF}{red!60!black}
\colorlet{colorEW}{brown}
\colorlet{colorMO}{orange!60!black}
\colorlet{colorRB}{purple}
\colorlet{colorECO}{red!80!black}
\colorlet{colorRSEQ}{cyan}
\colorlet{colorSW}{blue!40!black}
\colorlet{colorHB}{blue}
\colorlet{colorSCB}{violet}
\colorlet{colorPSC}{violet}
\colorlet{colorFSC}{violet}
\colorlet{colorWGR}{magenta!40!black}
\colorlet{colorDEV}{magenta}
\colorlet{colorINCL}{magenta!70!black}
\colorlet{colorOBS}{green!40!black}
\colorlet{colorCA}{teal}
\colorlet{colorDEPS}{violet!60!black}

\newcommand{\lPO}{{\color{colorPO}\mathtt{po}}}
\newcommand{\lRF}{{\color{colorRF}\mathtt{rf}}}
\newcommand{\lRMW}{{\color{colorRMW}\mathtt{rmw}}}
\newcommand{\lCF}{{\color{colorCF}\mathtt{cf}}}
\newcommand{\lEW}{{\color{colorEW}\mathtt{ew}}}
\newcommand{\lMO}{{\color{colorMO}\mathtt{mo}}}
\newcommand{\lRB}{{\color{colorRB}\mathtt{rb}}}
\newcommand{\lECO}{{\color{colorECO}\mathtt{eco}}}

\newcommand{\lRSEQ}{{\color{colorRSEQ}\mathtt{rseq}}}
\newcommand{\lSW}{{\color{colorSW}\mathtt{sw}}}
\newcommand{\lHB}{{\color{colorHB}\mathtt{hb}}}

\newcommand{\imm}{{\textrm IMM}~}

\newcommand{\ocl}{{\textrm OpenCL}}
\newcommand{\ptx}{{\textrm PTX}}
\newcommand{\lSWocl}{{\color{colorSW}\mathtt{sw_\ocl}}}
\newcommand{\lSWptx}{{\color{colorSW}\mathtt{sw_\ptx}}}

\newcommand{\lSCB}{{\color{colorSCB} \mathtt{scb}}}
\newcommand{\lPSCB}{\lPSC_{\rm base}}
\newcommand{\lPSCF}{\lPSC_\lF}
\newcommand{\lFSC}{{\color{colorFSC}\mathtt{fsc}}}
\newcommand{\lPSC}{{\color{colorPSC}\mathtt{psc}}}

\newcommand{\lWGR}{{\color{colorWGR}\mathtt{wgr}}}
\newcommand{\lWGRi}[1]{{\color{colorWGR}\mathtt{wgr}_{#1}}}
\newcommand{\lDEV}{{\color{colorDEV}\mathtt{dev}}}
\newcommand{\lINCL}{{\color{colorINCL}\mathtt{incl}}}
\newcommand{\lHBINCL}{\lHB_{\lINCL}}

\newcommand{\lOBS}{{\color{colorOBS}\mathtt{obs}}}
\newcommand{\lCA}{{\color{colorCA}\mathtt{ca}}}
\newcommand{\lCAB}{\lCA_{\rm base}}

\newcommand{\lCTRL}{{{\color{colorDEPS}\mathtt{ctrl}}}}
\newcommand{\lDATA}{{{\color{colorDEPS}\mathtt{data}}}}
\newcommand{\lADDR}{{{\color{colorDEPS}\mathtt{addr}}}}
\newcommand{\lCASDEP}{{{\color{colorDEPS}\mathtt{casdep}}}}
\newcommand{\lDEP}{{\color{colorDEPS}\mathtt{dep}}}

\newcommand{\lmakeE}[1]{#1\mathtt{e}}
\newcommand{\lRFE}{\lmakeE{\lRF}}
\newcommand{\lCOE}{\lmakeE{\lCO}}
\newcommand{\lRBE}{\lmakeE{\lRB}}
\newcommand{\lMOE}{\lmakeE{\lMO}}

\newcommand{\lmakeI}[1]{#1\mathtt{i}}
\newcommand{\lRFI}{\lmakeI{\lRF}}
\newcommand{\lCOI}{\lmakeI{\lCO}}
\newcommand{\lFRI}{\lmakeI{\lFR}}

%% memory orders
\newcommand{\na}{\mathtt{na}}
\newcommand{\pln}{\mathtt{pln}}
\newcommand{\rlx}{\mathtt{rlx}}
\newcommand{\rel}{{\mathtt{rel}}}
\newcommand{\acq}{{\mathtt{acq}}}
\newcommand{\con}{{\mathtt{con}}}
\newcommand{\acqrel}{{\mathtt{acqrel}}}
\newcommand{\relAcq}{\acqrel}
\newcommand{\sco}{{\mathtt{sc}}}

%% scopes
\newcommand{\wgr}{\mathtt{wgr}}
\newcommand{\dev}{\mathtt{dev}}
\newcommand{\sys}{\mathtt{sys}}

%% tikz stuff

\newcommand{\event}[3]{#1#2#3}
\tikzset{
   every path/.style={>=stealth},
   po/.style={->,color=colorPO,,shorten >=-0.5mm,shorten <=-0.5mm},
   rf/.style={->,color=colorRF,dashed,,shorten >=-0.5mm,shorten <=-0.5mm},
   rb/.style={->,color=colorRB,thick,shorten >=-0.5mm,shorten <=-0.5mm},
   mo/.style={->,color=colorMO,dotted,thick,shorten >=-0.5mm,shorten <=-0.5mm},
   sw/.style={->,color=colorSW,dashed,thick,shorten >=-0.5mm,shorten <=-0.5mm},
   obs/.style={->,color=colorOBS,dashed,,shorten >=-0.5mm,shorten <=-0.5mm},
   no/.style={->,dotted,thick,shorten >=-0.5mm,shorten <=-0.5mm},
   deps/.style={->,color=colorDEPS,dotted,thick,shorten >=-0.5mm,shorten <=-0.5mm},
   wgr/.style={fill=colorWGR, opacity=0.1}
}

%% parallel threads listings

\newcommand{\inarr}[1]{\begin{array}{@{}l@{}}#1\end{array}}
\newcommand{\inarrII}[2]{\begin{array}{@{}l@{~~}||@{~~}l@{}}\inarr{#1}&\inarr{#2}\end{array}}
\newcommand{\inarrIII}[3]{\begin{array}{@{}l@{~~}||@{~~}l@{~~}||@{~~}l@{}}\inarr{#1}&\inarr{#2}&\inarr{#3}\end{array}}
\newcommand{\inarrIV}[4]{\begin{array}{@{}l@{~~}||@{~~}l@{~~}||@{~~}l@{~~}||@{~~}l@{}}\inarr{#1}&\inarr{#2}&\inarr{#3}&\inarr{#4}\end{array}}
\newcommand{\inarrV}[5]{\begin{array}{@{}l@{~~}||@{~~}l@{~~}||@{~~}l@{~~}||@{~~}l@{~~}||@{~~}l@{}}\inarr{#1}&\inarr{#2}&\inarr{#3}&\inarr{#4}&\inarr{#5}\end{array}}

%% instructions for listings

\newcommand{\valueRead}[1]{{// #1}}

\newcommand{\fence}{\texttt{fence}}
\newcommand{\readInstS}[3]{#2 \;:=^{#1}\;[#3]}
\newcommand{\writeInstS}[3]{[#2] \;:=^{#1}\;#3}
\newcommand{\fenceInstS}[1]{\fence^{#1}}

%% axiom labels

\newcounter{mylabelcounter}

\makeatletter
\newcommand{\labelAxiom}[2]{%
\hfill{\normalfont\textsc{(#1)}}\refstepcounter{mylabelcounter}
\immediate\write\@auxout{%
  %% \string\newlabel{#2}{{1}{\thepage}{{#1}}{mylabelcounter.\number\value{mylabelcounter}}{}}
  \string\newlabel{#2}{{\unexpanded{\normalfont\textsc{#1}}}{\thepage}{{\unexpanded{\normalfont\textsc{#1}}}}{mylabelcounter.\number\value{mylabelcounter}}{}}
}%
}
\makeatother

%% warning

\colorlet{colorWARNING}{yellow!90!black}

\newcommand{\warning}[1]{{\color{colorWARNING}\texttt{WARNING}}: #1}
\newcommand{\app}[1]{{\color{blue}\textbf{ANTON: #1}}}
